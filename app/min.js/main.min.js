"use strict";document.addEventListener("DOMContentLoaded",(function(){var e,t,n=document.querySelector(".header__search"),c=document.querySelector(".search"),o=c.querySelector(".search__input"),r=c.querySelector(".search__list"),i=c.querySelector(".search__btn-close"),a=document.querySelectorAll(".btn-modal"),s=document.querySelectorAll(".btn-calc"),l=document.querySelectorAll(".feedback"),d=document.querySelector("#feedback"),u=document.querySelector("#calculating"),f=document.querySelectorAll(".feedback__notification"),m=document.querySelectorAll(".feedback__inner"),v=document.querySelectorAll(".feedback__close"),h=document.querySelector(".dropdown-menu"),_=h.querySelector(".dropdown-menu__inner"),y=document.querySelector(".header__list"),L=document.querySelectorAll(".anchor"),b=document.querySelector(".feedback__form"),p=document.querySelector(".calc"),w=p.querySelector(".calc__bottom"),E=b.querySelector("[name='Name']"),S=w.querySelector("[name='Name']"),k=b.querySelector("[name='Contact']"),q=w.querySelector("[name='Contact']"),g=document.querySelectorAll("input"),A=document.querySelectorAll("textarea"),x=b.querySelector("#feedCheck"),P=b.querySelector(".checkbox-label"),z=w.querySelector("#calcCheck"),C=w.querySelector(".checkbox-label"),V=/^['A-Za-z\u0410-\u044F][ '\x2DA-Za-z\u0410-\u044F]+['A-Za-z\u0410-\u044F]{2,20}?$/,Z=/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/,D=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;function G(){n.classList.remove("header__search--off"),c.classList.remove("search--active"),r.classList.remove("search__list--active"),o.value=""}function T(e,t){e.forEach((function(e){e.addEventListener("click",(function(){t.classList.add("feedback--active"),t.addEventListener("click",(function(e){var t=e.target;t&&t.classList.contains("feedback")&&F()})),document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden",setTimeout((function(){m.forEach((function(e){e.classList.add("feedback__inner--active")}))}),300);var e=document.createElement("div");e.style.overflowY="scroll",e.style.width="50px",e.style.height="50px",document.body.append(e);var n=e.offsetWidth-e.clientWidth;e.remove(),document.body.style.marginRight="".concat(n,"px")}))}))}function F(){l.forEach((function(e){e.classList.remove("feedback--active")})),document.documentElement.style.overflow="hidden auto",document.body.style.overflow="hidden auto",document.body.style.marginRight="0",m.forEach((function(e){e.classList.remove("feedback__inner--active")})),O(E,"Имя"),O(S,"Имя"),O(k,"Телефон или Email"),O(q,"Телефон или Email"),g.forEach((function(e){e.classList.remove("input--wrong"),e.value="",e.checked=!1})),A.forEach((function(e){e.value=""}))}c.addEventListener("submit",(function(e){e.preventDefault()})),n.addEventListener("click",(function(){n.classList.add("header__search--off"),c.classList.add("search--active")})),o.addEventListener("click",(function(){r.classList.add("search__list--active")})),o.addEventListener("keyup",(function(){r.classList.remove("search__list--active")})),i.addEventListener("click",G),window.addEventListener("scroll",G),L.forEach((function(e){e.addEventListener("click",(function(n){for(var c=(t=e.getAttribute("href")).length,o=0;o<c;o++)"#"===t[o]&&(t=t.slice(o));document.querySelector(""+t).scrollIntoView({behavior:"smooth",block:"start"}),n.preventDefault()}))})),T(a,d),T(s,u),v.forEach((function(e){e.addEventListener("click",F)}));new Swiper(".swiper-container",{slidesPerView:4,slidesPerGroup:4,spaceBetween:10,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},watchOverflow:!0,breakpoints:{1200:{slidesPerView:4,slidesPerGroup:4},992:{slidesPerView:3,slidesPerGroup:3},576:{slidesPerView:2,slidesPerGroup:2},220:{slidesPerView:1,slidesPerGroup:1}}});function O(e,t){e.removeAttribute("placeholder"),e.setAttribute("placeholder",t),e.value=""}function R(e){e.addEventListener("focus",(function(){e.classList.remove("input--wrong")}))}function W(t,n,c){t.addEventListener("blur",(function(){""!==(e=t.value)&&0!=n.test(e)||(O(t,c),t.classList.add("input--wrong"))}))}function B(t,n,c,o){t.addEventListener("blur",(function(){(""===(e=t.value)||0==n.test(e)&&0==o.test(e))&&(O(t,c),t.classList.add("input--wrong"))}))}function H(e,t,n,c,o){e.addEventListener("submit",(function(e){if(e.preventDefault(),t.value){if(n.value){if(!c.checked)return o.classList.add("checkbox-label--shake"),void setTimeout((function(){o.classList.remove("checkbox-label--shake")}),500);var r=$(this);return $.ajax({type:"POST",url:"mail.php",data:r.serialize()}).done((function(){m.forEach((function(e){e.classList.add("feedback__inner--done")})),f.forEach((function(e){e.classList.add("feedback__notification--done")}))})),!1}n.classList.add("input--wrong")}else t.classList.add("input--wrong")}))}h.addEventListener("click",(function(){var e;document.documentElement.style.overflowX="hidden",document.body.style.overflowX="hidden",y.classList.add("header__list--transition"),y.classList.toggle("header__list--active"),_.classList.toggle("dropdown-menu__inner--close"),window.addEventListener("scroll",(function(){e=y.clientHeight,y.getBoundingClientRect().top+e<0&&(y.classList.remove("header__list--active"),_.classList.remove("dropdown-menu__inner--close"))}))})),window.addEventListener("resize",(function(){document.documentElement.offsetWidth>768&&y.classList.remove("header__list--transition")})),R(E),R(k),R(S),R(q),W(E,V,"Пример: Иван"),W(S,V,"Пример: Иван"),B(k,Z,"Пример: +7-999-888-77-66 или post@mail.ru",D),B(q,Z,"Пример: +7-999-888-77-66 или post@mail.ru",D),H(b,E,k,x,P),H(p,S,q,z,C),window.onload=function(){var e,t=document.querySelector(".header").clientHeight,n=document.querySelector(".button-return"),c=document.querySelector(".button-return__arrow");window.addEventListener("scroll",(function(){(e=document.documentElement.scrollTop)>t&&(n.classList.add("button-return--active"),setTimeout((function(){c.classList.add("button-return__arrow--active")}),1500)),e<t&&(n.classList.remove("button-return--active"),c.classList.remove("button-return__arrow--active"))}))}}));